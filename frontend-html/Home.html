<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Fofo - Cloud, Docker & AWS</title>
    <style>
      body {
        font-family: "Comic Sans MS", "Segoe UI", sans-serif;
        background: linear-gradient(135deg, #ffe4f0, #ffd6eb, #fff0f7);
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0;
      }
      .quiz-container {
        background: #fffafa;
        padding: 30px;
        border-radius: 25px;
        box-shadow: 0 8px 25px rgba(216, 27, 96, 0.2);
        width: 650px;
        text-align: center;
        border: 3px solid #f8bbd0;
      }
      h3 {
        color: #d81b60;
        margin-bottom: 20px;
        font-size: 20px;
        text-shadow: 1px 1px #ffc1e3;
      }
      .question {
        margin: 15px 0;
        text-align: left;
        background: #fff0f7;
        padding: 12px;
        border-radius: 15px;
        border: 1px dashed #f8bbd0;
      }
      label {
        background: #ffe4f0;
        padding: 10px;
        border-radius: 12px;
        cursor: pointer;
        transition: 0.3s;
        display: block;
        border: 1px solid #f8bbd0;
      }
      input {
        margin-right: 8px;
        accent-color: #ec407a;
      }
      .btn {
        padding: 12px 18px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-size: 16px;
        background: #ec407a;
        color: white;
        transition: 0.3s;
        margin-top: 15px;
        box-shadow: 0 4px 10px rgba(216, 27, 96, 0.3);
      }
      .btn:hover {
        background: #d81b60;
        transform: scale(1.05);
      }
    </style>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  </head>
  <body>
    <div class="quiz-container" id="quizBox">
      <h1>ðŸŒ¸ Quiz Para Estudos - Cloud, Docker & AWS ðŸŒ¸</h1>
      <button class="btn" onclick="fetchData()">ðŸ’– Iniciar Quiz ðŸ’–</button>
    </div>

    <div id='quiz-container'>
    </div>

    <script>
      const supabaseClient = supabase.createClient('https://untamlnwdoarfddbgjcw.supabase.co', 'sb_publishable_CR_anN2ltUlut8Mo_zl24A_VDxgHkc6');

      function finishedQuiz() {
        const container = document.getElementById("quiz-container");
          container.innerHTML = "<h1>ðŸŒ¸ðŸŽ€ FIM DO QUIZ! ðŸŽ€ðŸŒ¸</h1>"; 
      }

      async function fetchData() {
        const quizBox = document.getElementById("quizBox");
        quizBox.innerHTML = "<h1>ðŸŒ¸ Quiz Para Estudos - Cloud, Docker & AWS ðŸŒ¸</h1>";

        const { data, error } = await supabaseClient
          .from('perguntas')
          .select('*');
          if (error) console.error('Error fetching data', error);

          const container = document.getElementById('quiz-container');

          data.forEach(pergunta => {
          const div = document.createElement('div');
          div.classList.add("question");
          div.innerHTML = `
            <h3>${pergunta.questao}</h3>
            <input type="radio" id="label"> 1. ${pergunta.op1} <br>
            <input type="radio" id="label"> 2. ${pergunta.op2} <br>
            <input type="radio" id="label"> 3. ${pergunta.op3} <br>
            <input type="radio" id="label"> 4. ${pergunta.op4} <br>
          `;
          container.appendChild(div);
        });

        const finishQuiz = document.createElement('button');
        finishQuiz.type = "button";
        finishQuiz.classList.add("btn");
        finishQuiz.textContent = "âœ¨ Finalizar âœ¨";
        finishQuiz.onclick = finishedQuiz;

        container.appendChild(finishQuiz);
      }
    </script>
  </body>
</html>
